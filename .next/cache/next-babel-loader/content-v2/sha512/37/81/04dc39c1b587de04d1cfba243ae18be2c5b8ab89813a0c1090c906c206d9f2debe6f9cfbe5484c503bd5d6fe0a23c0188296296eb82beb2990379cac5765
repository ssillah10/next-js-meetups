{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/saihousillah/Documents/React Bootcamp/Exercises/meetups-nextJS-demo/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/saihousillah/Documents/React Bootcamp/Exercises/meetups-nextJS-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/saihousillah/Documents/React Bootcamp/Exercises/meetups-nextJS-demo/pages/[meetupId]/index.js\";\nimport { MongoClient } from \"mongodb\";\nimport MeetupDetail from \"../../components/meetups/MeetupDetail\";\n\nvar getCollection = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(type, id) {\n    var client, db, meetupsCollection, meetup, ids;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return MongoClient.connect(\"mongodb+srv://ssillah:Genius10@cluster0.nazgy.mongodb.net/meetups?retryWrites=true&w=majority\");\n\n          case 2:\n            client = _context.sent;\n            db = client.db();\n            meetupsCollection = db.collection(\"meetups\");\n\n            if (!(type == \"findOne\")) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 8;\n            return meetupsCollection.findOne({\n              _id: id\n            });\n\n          case 8:\n            meetup = _context.sent;\n            return _context.abrupt(\"return\", meetup);\n\n          case 10:\n            if (!(type == \"getIds\")) {\n              _context.next = 15;\n              break;\n            }\n\n            _context.next = 13;\n            return meetupsCollection.find({}, {\n              _id: 1\n            }).toArray();\n\n          case 13:\n            ids = _context.sent;\n            return _context.abrupt(\"return\", ids);\n\n          case 15:\n            client.close();\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getCollection(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfunction MeetupDetail1(props) {\n  return /*#__PURE__*/_jsxDEV(MeetupDetail, {\n    image: props.meetupDetail.image,\n    title: props.meetupDetail.title,\n    address: props.meetupDetail.address,\n    description: props.meetupDetail.description\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n\n_c = MeetupDetail1;\nexport var __N_SSG = true;\nexport default MeetupDetail1;\n\nvar _c;\n\n$RefreshReg$(_c, \"MeetupDetail1\");","map":{"version":3,"sources":["/Users/saihousillah/Documents/React Bootcamp/Exercises/meetups-nextJS-demo/pages/[meetupId]/index.js"],"names":["MongoClient","MeetupDetail","getCollection","type","id","connect","client","db","meetupsCollection","collection","findOne","_id","meetup","find","toArray","ids","close","MeetupDetail1","props","meetupDetail","image","title","address","description"],"mappings":";;;;AAAA,SAASA,WAAT,QAAsC,SAAtC;AACA,OAAOC,YAAP,MAAyB,uCAAzB;;AAEA,IAAMC,aAAa;AAAA,sEAAG,iBAAOC,IAAP,EAAaC,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACCJ,WAAW,CAACK,OAAZ,CACnB,+FADmB,CADD;;AAAA;AACdC,YAAAA,MADc;AAIdC,YAAAA,EAJc,GAITD,MAAM,CAACC,EAAP,EAJS;AAKdC,YAAAA,iBALc,GAKMD,EAAE,CAACE,UAAH,CAAc,SAAd,CALN;;AAAA,kBAMhBN,IAAI,IAAI,SANQ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAOGK,iBAAiB,CAACE,OAAlB,CAA0B;AAAEC,cAAAA,GAAG,EAAEP;AAAP,aAA1B,CAPH;;AAAA;AAOZQ,YAAAA,MAPY;AAAA,6CAQXA,MARW;;AAAA;AAAA,kBAUhBT,IAAI,IAAI,QAVQ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAWAK,iBAAiB,CAACK,IAAlB,CAAuB,EAAvB,EAA2B;AAAEF,cAAAA,GAAG,EAAE;AAAP,aAA3B,EAAuCG,OAAvC,EAXA;;AAAA;AAWZC,YAAAA,GAXY;AAAA,6CAYXA,GAZW;;AAAA;AAepBT,YAAAA,MAAM,CAACU,KAAP;;AAfoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbd,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAkBA,SAASe,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,sBACE,QAAC,YAAD;AACE,IAAA,KAAK,EAAEA,KAAK,CAACC,YAAN,CAAmBC,KAD5B;AAEE,IAAA,KAAK,EAAEF,KAAK,CAACC,YAAN,CAAmBE,KAF5B;AAGE,IAAA,OAAO,EAAEH,KAAK,CAACC,YAAN,CAAmBG,OAH9B;AAIE,IAAA,WAAW,EAAEJ,KAAK,CAACC,YAAN,CAAmBI;AAJlC;AAAA;AAAA;AAAA;AAAA,UADF;AAQD;;KATQN,a;;AAoDT,eAAeA,aAAf","sourcesContent":["import { MongoClient, ObjectId } from \"mongodb\";\nimport MeetupDetail from \"../../components/meetups/MeetupDetail\";\n\nconst getCollection = async (type, id) => {\n  const client = await MongoClient.connect(\n    \"mongodb+srv://ssillah:Genius10@cluster0.nazgy.mongodb.net/meetups?retryWrites=true&w=majority\"\n  );\n  const db = client.db();\n  const meetupsCollection = db.collection(\"meetups\");\n  if (type == \"findOne\") {\n    const meetup = await meetupsCollection.findOne({ _id: id });\n    return meetup;\n  }\n  if (type == \"getIds\") {\n    const ids = await meetupsCollection.find({}, { _id: 1 }).toArray();\n    return ids;\n  }\n\n  client.close();\n};\n\nfunction MeetupDetail1(props) {\n  return (\n    <MeetupDetail\n      image={props.meetupDetail.image}\n      title={props.meetupDetail.title}\n      address={props.meetupDetail.address}\n      description={props.meetupDetail.description}\n    />\n  );\n}\n\nexport async function getStaticPaths() {\n  //   const meetups = getCollection(\"getIds\");\n  const client = await MongoClient.connect(\n    \"mongodb+srv://ssillah:Genius10@cluster0.nazgy.mongodb.net/meetups?retryWrites=true&w=majority\"\n  );\n  const db = client.db();\n  const meetupsCollection = db.collection(\"meetups\");\n  const meetups = await meetupsCollection.find({}, { _id: 1 }).toArray();\n\n  return {\n    paths: meetups.map((meetup) => ({\n      params: { meetupId: meetup._id.toString() },\n    })),\n    fallback: false,\n  };\n}\n\nexport async function getStaticProps(context) {\n  const meetupId = context.params.meetupId;\n  //   const meetup = getCollection(\"findOne\", ObjectId(meetupId));\n\n  const client = await MongoClient.connect(\n    \"mongodb+srv://ssillah:Genius10@cluster0.nazgy.mongodb.net/meetups?retryWrites=true&w=majority\"\n  );\n  const db = client.db();\n  const meetupsCollection = db.collection(\"meetups\");\n\n  const meetup = await meetupsCollection.findOne({ _id: ObjectId(id) });\n\n  return {\n    props: {\n      meetupDetail: {\n        image: meetup.image,\n        title: meetup.title,\n        address: meetup.address,\n        description: meetup.description,\n      },\n    },\n  };\n}\n\nexport default MeetupDetail1;\n"]},"metadata":{},"sourceType":"module"}